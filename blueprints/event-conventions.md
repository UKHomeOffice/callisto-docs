# Event conventions

## Types of event

### Resource lifecycle events
We are wrapping our Resources in an event envelope. The envelope decorates the Resource that it carries with metadata about the event.

The metadata is intended to be minimal and lightweight. All events generated by any of Callisto's containers should conform to the schema below -

```yaml
{
  "$id": "https://callisto.digital.homeoffice.gov.uk/event.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Event",
  "description": "Describes an action and the Callisto resource that it was performed against",
  "type": "object",
  "properties": {
    "action": {
      "type": "string",
	  "enum": ["create", "update", "delete"],
      "description": "The kind of operation that was performed on the resource"
	  },
    "resource": {
      "type": "object",
      "description": "The resource that was the subject of the action"
    }
  },
  "required": ["action", "resource"]
}
```
source - [`event-schema.json`](../schema/event-schema.json)


## Further reading
https://martinfowler.com/articles/201701-event-driven.html
https://blog.frankdejonge.nl/the-different-types-of-events-in-event-driven-systems/